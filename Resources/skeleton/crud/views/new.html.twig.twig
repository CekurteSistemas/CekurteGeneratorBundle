{% block extends %}
{{ "{% extends 'CekurteGeneratorBundle::layout.html.twig' %}" }}
{% endblock extends %}

{%- set hasDateField = false %}

{% block body %}
{{ "{% set title    = '" ~ entity ~ "'|trans %}" }}
{{ "{% set subtitle = '" ~ 'Add' ~ "'|trans %}" }}

{{ "{% block links -%}" }}
    {{ "{% embed 'CekurteGeneratorBundle:Action:list.html.twig' with {
        'route' : '" ~ route_name_prefix ~ "'
    } only %}
    {% endembed %}" }}
{{ "{% endblock %}" }}

{{ "{% block content -%}" }}
    <form class="form-horizontal" role="form" action="{{ "{{ path('" ~ route_name_prefix ~ "_create') }}" }}" method="post" {{ "{{ form_enctype(form) }}" }}>
        {{ "{{ form_widget(form) }}" }}
        {{ "{% include 'CekurteGeneratorBundle:Action:form-actions.html.twig' %}" }}
    </form>
    {%- for field in fields %}
        {%- if field.fieldName in ['picture', 'image', 'thumb', 'thumbnail', 'file', 'filename'] %}

    {{ "{% include 'CekurteUploaderBundle:TwitterBootstrap3:layout.html.twig' with {
        'endpoint': '" ~ entity|lower ~ "_" ~ field.fieldName ~ "',
        'label'   : '" ~ field.fieldName|capitalize ~ "'|trans
    } %}" }}

        {%- endif %}
    {%- endfor %}

{{ "{% endblock %}" }}

{%- for field in fields -%}
    {%- if field.type in ['date'] -%}
        {%- set hasDateField = true -%}
    {%- endif -%}
{%- endfor %}


{{ "{%- block stylesheets -%}" }}
    {{ "{{ parent() }}" }}

    {% if hasDateField == true -%}
    {{ "<link rel=\"stylesheet\" type=\"text/css\" href=\"{{ asset('vendor/bootstrap-datepicker/css/datepicker3.css') }}\" />" }}
    {%- endif %}

{{ "{%- endblock -%}" }}

{{ "{%- block javascripts -%}" }}
    {{ "{{ parent() }}" }}
    {% for field in fields %}
        {%- if field.fieldName in ['picture', 'image', 'thumb', 'thumbnail', 'file', 'filename'] %}

    {{ "{%- include 'CekurteUploaderBundle:TwitterBootstrap3:script.html.twig' with {
        'endpoint': '" ~ entity|lower ~ "_" ~ field.fieldName ~ "'
    } -%}" }}

        {%- endif -%}
    {% endfor %}

    {% if hasDateField == true -%}
    {{ "<script type=\"text/javascript\" src=\"{{ asset('vendor/bootstrap-datepicker/js/bootstrap-datepicker.js') }}\"></script>" }}
    {{ "{%- if app.request.locale != 'en_US' -%}" }}
        {{ "<script type=\"text/javascript\" src=\"{{ asset('vendor/bootstrap-datepicker/js/locales/bootstrap-datepicker.' ~ app.request.locale|replace({'_': '-'}) ~ '.js') }}\"></script>" }}
    {{ "{%- endif -%}" }}
    {%- endif %}

{{ "{%- endblock -%}" }}
{% endblock body %}