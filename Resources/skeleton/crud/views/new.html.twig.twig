{% block extends %}
{{ "{% extends 'CekurteGeneratorBundle::layout.html.twig' %}" }}
{% endblock extends %}

{% block body %}
{{ "{% set title    = '" ~ entity ~ "'|trans %}" }}
{{ "{% set subtitle = '" ~ 'Add' ~ "'|trans %}" }}

{{ "{% block links -%}" }}
    {{ "{% embed 'CekurteGeneratorBundle:Action:list.html.twig' with {
        'route' : '" ~ route_name_prefix ~ "'
    } only %}
    {% endembed %}" }}
{{ "{% endblock %}" }}

{{ "{% block content -%}" }}
    <form class="form-horizontal" role="form" action="{{ "{{ path('" ~ route_name_prefix ~ "_create') }}" }}" method="post" {{ "{{ form_enctype(form) }}" }}>
        {{ "{{ form_widget(form) }}" }}
        {{ "{% include 'CekurteGeneratorBundle:Action:form-actions.html.twig' %}" }}
    </form>
    {%- for field in fields %}
        {%- if field.fieldName in ['picture', 'image', 'thumb', 'thumbnail', 'file', 'filename'] %}

    {{ "{% include 'CekurteUploaderBundle:TwitterBootstrap3:layout.html.twig' with {
        'endpoint': '" ~ entity|lower ~ "_" ~ field.fieldName ~ "',
        'label'   : '" ~ field.fieldName|capitalize ~ "'|trans
    } %}" }}

        {%- endif %}
    {%- endfor %}

{{ "{% endblock %}" }}

{%- set hasDateField    = false -%}
{%- set hasUploadField  = false -%}

{%- for field in fields -%}
    {%- if field.type in ['date'] -%}
        {%- set hasDateField    = true -%}
    {%- elseif field.fieldName in ['picture', 'image', 'thumb', 'thumbnail', 'file', 'filename'] -%}
        {%- set hasUploadField  = true -%}
    {%- endif -%}
{%- endfor %}

{%- if hasDateField == true -%}
{{ "\n" }}
{{ "{%- block stylesheets -%}" }}
    {{ "{{ parent() }}" }}

    {{ "{%- include 'CekurteGeneratorBundle:DatePicker:style.html.twig' -%}" }}
{{ "{%- endblock -%}" }}
{%- endif -%}

{%- if hasDateField == true or hasUploadField == true -%}
{{ "\n" }}
{{ "{%- block javascripts -%}" }}
    {{ "{{ parent() }}" }}

    {%- if hasDateField == true -%}
    {{ "\n" }}
    {{ "{%- include 'CekurteGeneratorBundle:DatePicker:script.html.twig' -%}" }}
    {%- endif -%}

    {%- if hasUploadField == true -%}
        {%- for field in fields -%}
            {%- if field.fieldName in ['picture', 'image', 'thumb', 'thumbnail', 'file', 'filename'] -%}
    {{ "\n" }}
    {{ "{%- include 'CekurteUploaderBundle:TwitterBootstrap3:script.html.twig' with {
        'endpoint': '" ~ entity|lower ~ "_" ~ field.fieldName ~ "'
    } -%}" }}
            {%- endif -%}
        {% endfor -%}
    {%- endif -%}
{{ "\n" ~ "{%- endblock -%}" }}

{%- endif -%}
{{ "\n" }}
{%- endblock body %}